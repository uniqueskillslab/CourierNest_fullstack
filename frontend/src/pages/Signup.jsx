import React, { useState } from 'react';
import { api } from '../api';
import { useNavigate } from 'react-router-dom';
export default function Signup({ setUser }) { const nav = useNavigate(); const [form,setForm]=useState({ username:'', password:'', role:'student' }); async function submit(e){ e.preventDefault(); try{ const res = await api.signup(form); setUser(res.user); nav('/'); }catch(err){ alert('Signup failed: ' + (err.message || '')) } } return (<div className='card'><h3>Sign up</h3><form onSubmit={submit} className='small'><input placeholder='Username' value={form.username} onChange={e=>setForm({...form,username:e.target.value})} /><input type='password' placeholder='Password' value={form.password} onChange={e=>setForm({...form,password:e.target.value})} /><select value={form.role} onChange={e=>setForm({...form,role:e.target.value})}><option value='student'>Student</option><option value='employer'>Employer</option></select><button className='btn btn-primary'>Sign up</button></form></div>); }
